<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>
<style type="text/css">

   p.desc{
     white-space:nowrap;
   }

   table.pretty {
    margin: 1em 1em 1em 2em;
    background: whitesmoke;
    border-collapse: collapse;
   }

   table.pretty th, table.pretty td {
    border: 1px gainsboro solid;
    padding: 0.2em;
   }

   table.pretty th {
    background: gainsboro;
    text-align: left;
   }

   table.pretty caption {
    margin-left: inherit;
    margin-right: inherit;
    white-space:nowrap;
   }
  </style>
<body>
<h2>Macro Overview</h2>

  The following macros can be overloaded on host level.
  <table class="pretty">
<tr>
<th>Name</th><th>Default</th>
</tr>
</table>
<h1>Static Elements</h1>
<h2>Trigger Overview</h2>
<table class="pretty">
<tr>
<th>Name</th><th>Description</th><th>Priority</th><th>Expression</th><th>Dependencies</th>
</tr>
<tr>
<td>Failure in Last Puppet Run</td><td></td><td style="background-color:#FFFF00;">Warning</td><td><tt>{Custom - OS - Puppet:puppet[events,failure].last()}&gt;0</tt></td><td><tt></tt></td>
</tr>
<tr>
<td>Last Puppet Run older than one hour</td><td></td><td style="background-color:#FFFF00;">Warning</td><td><tt>{Custom - OS - Puppet:puppet[time,last_run].fuzzytime(3600)}=0</tt></td><td><tt></tt></td>
</tr>
<tr>
<td>Puppet Agent Process</td><td>Trigger if Puppet Agent Process is not running or has no data for 1h</td><td style="background-color:#FFFF00;">Warning</td><td><tt>({Custom - OS - Puppet:proc.num[puppet,,,].last()}&lt;1) or ({Custom - OS - Puppet:proc.num[puppet,,,].nodata(3600)}=1)</tt></td><td><tt></tt></td>
</tr>
<tr>
<td>Puppet Retrieve Catalog took 60 sec</td><td></td><td style="background-color:#FFFF00;">Information</td><td><tt>{Custom - OS - Puppet:puppet[time,config_retrieval].last()}&gt;60</tt></td><td><tt></tt></td>
</tr>
</table>
<h2>Graph Overview</h2>
<table class="pretty">
<tr>
<th>Name</th><th>Elements</th>
</tr>
<tr>
<td>Puppet Resources</td><td><tt>puppet[resources,total]<br>puppet[resources,changed]<br>puppet[resources,failed_to_restart]<br>puppet[resources,out_of_sync]<br>puppet[resources,restarted]<br>puppet[resources,scheduled]<br>puppet[resources,skipped]<br>
</tt></td>
</tr>
</table>
<h2>Item Overview</h2>
<table class="pretty">
<tr>
<th>Type</th><th>Name</th><th>Key</th><th>Description</th><th>Interval (sec)</th><th>History Days</th><th>Trend Days</th>
</tr>
<tr>
<td>
<p class="desc">Zabbix Agent</p>
</td><td>Puppet Agent Process</td><td><tt>proc.num[puppet,,,]</tt></td><td></td><td>300</td><td>90</td><td>365</td>
</tr>
<tr>
<td>
<p class="desc">Zabbix Agent</p>
</td><td>Puppet Environment</td><td><tt>puppet.environment</tt></td><td></td><td>300</td><td>30</td><td>0</td>
</tr>
<tr>
<td>
<p class="desc">Zabbix Agent</p>
</td><td>Puppet Changes Total</td><td><tt>puppet[changes,total]</tt></td><td></td><td>300</td><td>30</td><td>365</td>
</tr>
<tr>
<td>
<p class="desc">Zabbix Agent</p>
</td><td>Puppet Events Failure</td><td><tt>puppet[events,failure]</tt></td><td></td><td>300</td><td>30</td><td>365</td>
</tr>
<tr>
<td>
<p class="desc">Zabbix Agent</p>
</td><td>Puppet Events Success</td><td><tt>puppet[events,success]</tt></td><td></td><td>300</td><td>30</td><td>365</td>
</tr>
<tr>
<td>
<p class="desc">Zabbix Agent</p>
</td><td>Puppet Events Total</td><td><tt>puppet[events,total]</tt></td><td></td><td>300</td><td>30</td><td>365</td>
</tr>
<tr>
<td>
<p class="desc">Zabbix Agent</p>
</td><td>Puppet resources changed</td><td><tt>puppet[resources,changed]</tt></td><td></td><td>300</td><td>30</td><td>365</td>
</tr>
<tr>
<td>
<p class="desc">Zabbix Agent</p>
</td><td>Puppet resources failed_to_restart</td><td><tt>puppet[resources,failed_to_restart]</tt></td><td></td><td>300</td><td>30</td><td>365</td>
</tr>
<tr>
<td>
<p class="desc">Zabbix Agent</p>
</td><td>Puppet resources out_of_sync</td><td><tt>puppet[resources,out_of_sync]</tt></td><td></td><td>300</td><td>30</td><td>365</td>
</tr>
<tr>
<td>
<p class="desc">Zabbix Agent</p>
</td><td>Puppet resources restarted</td><td><tt>puppet[resources,restarted]</tt></td><td></td><td>300</td><td>30</td><td>365</td>
</tr>
<tr>
<td>
<p class="desc">Zabbix Agent</p>
</td><td>Puppet resources scheduled</td><td><tt>puppet[resources,scheduled]</tt></td><td></td><td>300</td><td>30</td><td>365</td>
</tr>
<tr>
<td>
<p class="desc">Zabbix Agent</p>
</td><td>Puppet resources skipped</td><td><tt>puppet[resources,skipped]</tt></td><td></td><td>300</td><td>30</td><td>365</td>
</tr>
<tr>
<td>
<p class="desc">Zabbix Agent</p>
</td><td>Puppet resources total</td><td><tt>puppet[resources,total]</tt></td><td></td><td>300</td><td>30</td><td>365</td>
</tr>
<tr>
<td>
<p class="desc">Zabbix Agent</p>
</td><td>Puppet time config_retrieval</td><td><tt>puppet[time,config_retrieval]</tt></td><td></td><td>300</td><td>30</td><td>365</td>
</tr>
<tr>
<td>
<p class="desc">Zabbix Agent</p>
</td><td>Puppet time last_run</td><td><tt>puppet[time,last_run]</tt></td><td></td><td>300</td><td>30</td><td>365</td>
</tr>
<tr>
<td>
<p class="desc">Zabbix Agent</p>
</td><td>Puppet time total</td><td><tt>puppet[time,total]</tt></td><td></td><td>300</td><td>30</td><td>365</td>
</tr>
</table>
</body>
</html>
